``PJS001`` Correct conversion based units - v2
========================================================================================================================================================================================================

.. parsed-literal::

   001 | \@implementer-agreement
   002 | \@PJS
   003 | \@version2
   004 | Feature: PJS001 - Correct conversion based units
   005 | 
   006 |   The rule verifies that conversion-based units used per Concept Template 4.1.9.9
   007 |   (https://ifc43-docs.standards.buildingsmart.org/IFC/RELEASE/IFC4x3/HTML/concepts/Project\_Context/Project\_Units/content.html)
   008 |   have names and corresponding conversion factors per the table of recommended values.
   009 |   This table is not considered to be a normative reference.
   010 |   Therefore all schema versions are checked against the latest table from IFC 4X3:
   011 |   https://ifc43-docs.standards.buildingsmart.org/IFC/RELEASE/IFC4x3/HTML/lexical/IfcConversionBasedUnit.htm.
   012 | 
   013 |   Background: Selection of conversion-based units in default unit assignment
   014 | 
   015 |     :doc:`Given an .IfcProject. </steps/stepsentity_selectionpy_Anentity_opt_stmt>`
   016 |     :doc:`Given its attribute .UnitsInContext. </steps/stepsattribute_selectionpy_Itsattributeattribute>`
   017 |     :doc:`Given its attribute .Units. </steps/stepsattribute_selectionpy_Itsattributeattribute>`
   018 |     :doc:`Given [its entity type] ^is^ 'IfcConversionBasedUnit' </steps/stepsattribute_valuepy_attributecomparison_operatorequal_or_not_equalvalue>`
   019 | 
   020 | 
   021 |   Scenario: Validating correct names for area, length, and volume units
   022 | 
   023 |     :doc:`Given .UnitType. ^is^ 'AREAUNIT' or 'LENGTHUNIT' or 'VOLUMEUNIT' or 'PLANEANGLEUNIT' </steps/stepsattribute_valuepy_attributecomparison_operatorequal_or_not_equalvalue>`
   024 |     :doc:`Then its attribute .Name. must be defined [according to the table] 'valid\_ConversionBasedUnits' </steps/stepspropertysets_qtys_unitspy_Itsattributeattr_namemustbedefinedaccordingtothetablevalid_ConversionBasedUnits>`
   025 | 
   026 | 
   027 |   Scenario: Validating correct conversion factors
   028 |   According to https://www.nist.gov/pml/special-publication-811/nist-guide-si-appendix-b-conversion-factors/nist-guide-si-appendix-b
   029 | 
   030 |     :doc:`Then its attribute .ConversionFactor. must be defined [according to the table] 'valid\_ConversionBasedUnits' </steps/stepspropertysets_qtys_unitspy_Itsattributeattr_namemustbedefinedaccordingtothetablevalid_ConversionBasedUnits>`
   031 | 
   032 | 
   033 |   Scenario: Validating that the conversion is based on SI units
   034 | 
   035 |     :doc:`Given its attribute .ConversionFactor. </steps/stepsattribute_selectionpy_Itsattributeattribute>`
   036 |     :doc:`Given its attribute .UnitComponent. </steps/stepsattribute_selectionpy_Itsattributeattribute>`
   037 |     :doc:`Then [its entity type] ^is^ 'IfcSIUnit' </steps/stepsattribute_valuepy_attributecomparison_operatorequal_or_not_equalvalue>`
   038 | 
   039 | 
   040 |   Scenario Outline: Validating that the conversion is based on the correct SI unit
   041 | 
   042 |     :doc:`Given .UnitType. ^is^ '\<UnitType\>' </steps/stepsattribute_valuepy_attributecomparison_operatorequal_or_not_equalvalue>`
   043 |     :doc:`Given its attribute .ConversionFactor. </steps/stepsattribute_selectionpy_Itsattributeattribute>`
   044 |     :doc:`Given its attribute .UnitComponent. </steps/stepsattribute_selectionpy_Itsattributeattribute>`
   045 |     :doc:`Then the value of attribute .Name. must be '\<CorrespondingSIUnit\>' </steps/thensattributespy_Thevalueofattributeattributemustbevalue_or_comparison_op>`
   046 | 
   047 |      Examples:
   048 |       | UnitType          | CorrespondingSIUnit   |
   049 |       | AREAUNIT          | SQUARE\_METRE          |
   050 |       | LENGTHUNIT        | METRE                 |
   051 |       | VOLUMEUNIT        | CUBIC\_METRE           |
   052 |       | PLANEANGLEUNIT    | RADIAN                |

.. rubric:: Version history

.. list-table::
   :header-rows: 1

   * - Version
     - Tag
     - Date
     - Commit
     - Rule link
   * - v1
     - :tag:`v0.8.3`
     - 2025-11-20
     - :commit:`7c8ba3c5da6df37557af58f0500e7f73ffc1eda4`
     - `view <https://github.com/buildingSMART/ifc-gherkin-rules/blob/release/0.8.3/features/rules/PJS/PJS001_Correct-conversion-based-units.feature>`_
   * - v2
     - n/a
     - 2025-12-28
     - :commit:`e914eef366c384bd54145bf8648c4ee446f2335f`
     - n/a
